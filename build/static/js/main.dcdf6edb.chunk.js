(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{15:function(e,n,t){e.exports=t(37)},37:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),u=t(14),o=t.n(u),c=t(2),l=t(3),i=t.n(l),m=function(){return i.a.get("/persons").then((function(e){return e.data}))},s=function(e){return i.a.post("/persons",e).then((function(e){return e.data}))},b=function(e){return i.a.delete("".concat("/persons","/").concat(e)).then((function(e){return e.data}))},f=function(e){var n=e.newFilter,t=e.onInputChange;return r.a.createElement("p",null,"filter shown with ",r.a.createElement("input",{value:n,onChange:t}))},d=function(e){return r.a.createElement("form",{onSubmit:e.onSubmitChange},r.a.createElement("div",null,"name: ",r.a.createElement("input",{value:e.nameValue,onChange:e.onNameChange})," ",r.a.createElement("br",null),"number:"," ",r.a.createElement("input",{value:e.numberValue,onChange:e.onNumberChange})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"add")))},h=function(e){var n=e.name,t=e.number,a=e.id,u=e.onButtonClick;return r.a.createElement("p",null,n," ",t,r.a.createElement("button",{onClick:function(){return u(n,a)}},"Delete"))},p=function(e){var n=e.list,t=e.onButtonClick;return r.a.createElement("div",null,n.map((function(e){return r.a.createElement(h,{key:e.name,name:e.name,number:e.number,id:e.id,onButtonClick:t})})))},E=t(4),g=function(e){var n=e.notificationObject,t={background:"lightgrey",fontSize:"20px",borderStyle:"solid",borderRadius:"5px",padding:"10px",marginBottom:"10px"},a=Object(E.a)({color:"green"},t),u=Object(E.a)({color:"red"},t);return null==n?null:r.a.createElement("div",{style:"success"===n.type?a:u},n.message)},v=function(){var e=Object(a.useState)([]),n=Object(c.a)(e,2),t=n[0],u=n[1],o=Object(a.useState)(""),l=Object(c.a)(o,2),i=l[0],h=l[1],E=Object(a.useState)(""),v=Object(c.a)(E,2),C=v[0],j=v[1],O=Object(a.useState)(""),k=Object(c.a)(O,2),w=k[0],S=k[1],y=Object(a.useState)(null),B=Object(c.a)(y,2),x=B[0],N=B[1];Object(a.useEffect)((function(){m().then((function(e){u(e)})).catch((function(e){return D("there has been an error","error")}))}),[]);var V=function(){j(""),h("")},D=function(e,n){N({message:e,type:n}),setTimeout((function(){N(null)}),5e3)},I=""!==w?t.filter((function(e){return e.name.toLowerCase().includes(w.toLowerCase())})):t;return r.a.createElement("div",null,r.a.createElement("h1",null,"Phonebook"),r.a.createElement(g,{notificationObject:x}),r.a.createElement(f,{newFilter:w,onInputChange:function(e){S(e.target.value)}}),r.a.createElement("h2",null,"Add a new person"),r.a.createElement(d,{onSubmitChange:function(e){e.preventDefault(),s({name:i,number:C}).then((function(e){u(t.concat(e)),V(),D("".concat(e.name," was added to the Phonebook"),"success")}))},nameValue:i,onNameChange:function(e){h(e.target.value)},numberValue:C,onNumberChange:function(e){j(e.target.value)}}),r.a.createElement("h2",null,"Numbers"),r.a.createElement(p,{list:I,onButtonClick:function(e,n){b(n).then((function(a){window.confirm("Delete ".concat(e,"?"))?(u(t.filter((function(e){return e.id!==n}))),D("".concat(e," has been deleted"),"success")):u(t)})).catch((function(n){D("".concat(e," has already been deleted"),"error")}))}}))};o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(v,null)),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.dcdf6edb.chunk.js.map