{"version":3,"sources":["services/persons.js","components/Filter.js","components/PersonForm.js","components/Person.js","components/Persons.js","components/Notification.js","App.js","index.js"],"names":["axios","get","then","response","data","newObject","post","id","delete","put","Filter","newFilter","onInputChange","value","onChange","PersonForm","props","onSubmit","onSubmitChange","nameValue","onNameChange","numberValue","onNumberChange","type","Person","name","number","onButtonClick","onClick","Persons","list","map","p","key","Notification","notificationObject","messageStyle","background","fontSize","borderStyle","borderRadius","padding","marginBottom","success","color","error","style","message","App","useState","persons","setPersons","newName","setNewName","newNumber","setNewNumber","setnewFilter","newNotification","setNotification","useEffect","personService","catch","displayMessage","resetInputFields","setTimeout","personsToShow","filter","toLowerCase","includes","event","target","preventDefault","newPerson","equalName","length","oldPerson","window","confirm","updatePerson","returnedPerson","concat","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.609b1069.chunk.js","sourcesContent":["import axios from \"axios\";\n\nconst baseUrl = \"/persons\";\n\nconst getAll = () => {\n  const request = axios.get(baseUrl);\n  return request.then((response) => {\n    return response.data;\n  });\n};\n\nconst create = (newObject) => {\n  const request = axios.post(baseUrl, newObject);\n  return request.then((response) => response.data);\n};\n\nconst deletePerson = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`);\n  return request.then((response) => response.data);\n};\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject);\n  return request.then((response) => response.data);\n};\n\nexport default { getAll, create, deletePerson, update };\n","import React from \"react\";\n\nconst Filter = ({ newFilter, onInputChange }) => (\n  <p>\n    filter shown with <input value={newFilter} onChange={onInputChange} />\n  </p>\n);\n\nexport default Filter;\n","import React from \"react\";\n\nconst PersonForm = props => (\n  <form onSubmit={props.onSubmitChange}>\n    <div>\n      name: <input value={props.nameValue} onChange={props.onNameChange} />{\" \"}\n      <br />\n      number:{\" \"}\n      <input value={props.numberValue} onChange={props.onNumberChange} />\n    </div>\n    <div>\n      <button type=\"submit\">add</button>\n    </div>\n  </form>\n);\n\nexport default PersonForm;\n","import React from \"react\";\n\nconst Person = ({ name, number, id, onButtonClick }) => {\n  return (\n    <p>\n      {name} {number}\n      <button onClick={() => onButtonClick(name, id)}>Delete</button>\n    </p>\n  );\n};\n\nexport default Person;\n","import React from \"react\";\nimport Person from \"./Person\";\n\nconst Persons = ({ list, onButtonClick }) => {\n  return (\n    <div>\n      {list.map(p => (\n        <Person\n          key={p.name}\n          name={p.name}\n          number={p.number}\n          id={p.id}\n          onButtonClick={onButtonClick}\n        />\n      ))}\n    </div>\n  );\n};\n\nexport default Persons;\n","import React from \"react\";\n\nconst Notification = ({ notificationObject }) => {\n  const messageStyle = {\n    background: \"lightgrey\",\n    fontSize: \"20px\",\n    borderStyle: \"solid\",\n    borderRadius: \"5px\",\n    padding: \"10px\",\n    marginBottom: \"10px\"\n  };\n\n  const success = {\n    color: \"green\",\n    ...messageStyle\n  };\n\n  const error = {\n    color: \"red\",\n    ...messageStyle\n  };\n\n  if (notificationObject == null) {\n    return null;\n  }\n  return (\n    <div style={notificationObject.type === \"success\" ? success : error}>\n      {notificationObject.message}\n    </div>\n  );\n};\n\nexport default Notification;\n","import React, { useState, useEffect } from \"react\";\nimport personService from \"./services/persons\";\nimport Filter from \"./components/Filter\";\nimport PersonForm from \"./components/PersonForm\";\nimport Persons from \"./components/Persons\";\nimport Notification from \"./components/Notification\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [newFilter, setnewFilter] = useState(\"\");\n  const [newNotification, setNotification] = useState(null);\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then((data) => {\n        setPersons(data);\n      })\n      .catch((error) => displayMessage(\"there has been an error\", \"error\"));\n  }, []);\n\n  const resetInputFields = () => {\n    setNewNumber(\"\");\n    setNewName(\"\");\n  };\n\n  const displayMessage = (message, type) => {\n    setNotification({ message, type });\n    setTimeout(() => {\n      setNotification(null);\n    }, 5000);\n  };\n\n  const updatePerson = (oldPerson, newPerson) => {\n    const answer = window.confirm(\n      `${oldPerson.name} is already added to phonebook, replace the older number with a new one?`\n    );\n    if (answer) {\n      personService.update(oldPerson.id, newPerson).then((response) => {\n        setPersons(persons.map((p) => (p.id !== oldPerson.id ? p : response)));\n        resetInputFields();\n        displayMessage(`Number for ${oldPerson.name} was changed`, \"success\");\n      });\n    } else {\n      resetInputFields();\n    }\n  };\n\n  const addPerson = (event) => {\n    event.preventDefault();\n    const newPerson = {\n      name: newName,\n      number: newNumber,\n    };\n\n    let equalName = persons.filter(\n      (p) => p.name.toLowerCase() === newPerson.name.toLowerCase()\n    );\n\n    equalName.length > 0\n      ? updatePerson(equalName[0], newPerson)\n      : personService\n          .create(newPerson)\n          .then((returnedPerson) => {\n            setPersons(persons.concat(returnedPerson));\n            resetInputFields();\n            displayMessage(\n              `${returnedPerson.name} was added to the Phonebook`,\n              \"success\"\n            );\n          })\n          .catch((error) => {\n            resetInputFields();\n            displayMessage(error.response.data.error);\n          });\n  };\n\n  const onButtonClick = (name, id) => {\n    personService\n      .deletePerson(id)\n      .then((data) => {\n        const answer = window.confirm(`Delete ${name}?`);\n        if (answer) {\n          setPersons(persons.filter((p) => p.id !== id));\n          displayMessage(`${name} has been deleted`, \"success\");\n        } else {\n          setPersons(persons);\n        }\n      })\n      .catch((error) => {\n        displayMessage(`${name} has already been deleted`, \"error\");\n      });\n  };\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value);\n  };\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value);\n  };\n\n  const handleFilterChange = (event) => {\n    setnewFilter(event.target.value);\n  };\n\n  const personsToShow =\n    newFilter !== \"\"\n      ? persons.filter((p) =>\n          p.name.toLowerCase().includes(newFilter.toLowerCase())\n        )\n      : persons;\n\n  return (\n    <div>\n      <h1>Phonebook</h1>\n      <Notification notificationObject={newNotification} />\n      <Filter newFilter={newFilter} onInputChange={handleFilterChange} />\n\n      <h2>Add a new person</h2>\n      <PersonForm\n        onSubmitChange={addPerson}\n        nameValue={newName}\n        onNameChange={handleNameChange}\n        numberValue={newNumber}\n        onNumberChange={handleNumberChange}\n      />\n\n      <h2>Numbers</h2>\n      <Persons list={personsToShow} onButtonClick={onButtonClick} />\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}